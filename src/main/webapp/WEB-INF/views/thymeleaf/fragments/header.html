<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta th:charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <title>eParking</title>

        <link rel="stylesheet" th:href="@{/webjars/bootstrap/5.3.2/css/bootstrap.min.css}"/>

        <link rel="stylesheet" th:href="@{/css/main.css}"/>

    </head>

    <body class="d-flex min-vh-100">

    <div th:class="${rol == 'USER' || rol == 'ADMIN'} ? 'bg-home cover-container w-100 d-flex mx-auto flex-column' : (${rol == 'ADMIN_GARAGE'} ? 'bg-windows cover-container w-100 d-flex mx-auto flex-column' : 'bg-login cover-container w-100 d-flex mx-auto flex-column')">

                <header class="mb-auto">

                    <div th:if="${id != null}">

                        <nav th:class="${rol == 'USER' || rol == 'ADMIN'} ? 'navbar navbar-expand-lg menu-desktop' : 'navbar navbar-expand-lg menu-desktop-garage'">

                            <div class="container">

                                <div class="d-flex nav-width">

                                    <img th:src="@{/img/logo/Logo2.png}" width="40rem" class="px-1">

                                    <a class="navbar-brand text-white text-bold" th:href="@{${rol == 'ADMIN_GARAGE' ? '/web/admin' : '/mobile/home'}}"> eParking </a>

                                </div>

                                <div class="d-flex align-items-center justify-content-center mx-auto badge-desktop">

                                    <h4 id="last-notification" class="bg-secondary px-3 py-2 rounded-4 fs-6 text-white d-inline-block text-truncate">No hay notificaciones en este momento.</h4>

                                    <a th:href="@{/mobile/profile/notifications}" class="position-relative px-2 pb-1">

                                        <i th:class="${rol == 'USER' || rol == 'ADMIN'} ? 'fa-solid fa-bell text-primary fs-3' : 'fa-solid fa-bell text-white fs-3'"></i>

                                        <span id="count-notif" class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">

                                                    0

                                                    <span class="visually-hidden">unread messages</span>

                                        </span>

                                    </a>

                                </div>


                                <div class="justify-content-end nav-width" id="navbarNav">

                                    <ul class="navbar-nav align-items-center">

                                        <li class="nav-item active">

                                            <a class="nav-link px-2 text-white text-bold" th:href="@{${rol == 'ADMIN_GARAGE' ? '/web/admin' : '/mobile/home'}}">Inicio</a>

                                        </li>

                                        <li class="nav-item" th:if="${rol == 'USER' || rol == 'ADMIN'}">

                                            <a class="nav-link text-white text-bold" th:href="@{/mobile/profile}">Perfil</a>

                                        </li>

                                        <li class="nav-item" th:if="${rol == 'USER' || rol == 'ADMIN'}">

                                            <a class="nav-link text-white text-bold" th:href="@{${rol == 'ADMIN' ? '/mobile/admin/reports' : '/mobile/reports/user-reports'}}">Denuncias</a>

                                        </li>



                                        <li class="navbar-nav ml-auto">

                                            <div class="nav-item dropdown">

                                                <a class="nav-link text-white text-bold" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="fa-solid fa-ellipsis"></i></a>

                                                <ul th:class="${rol == 'USER'} ? 'dropdown-menu end-0 bg-windows' : 'dropdown-menu end-0 bg-home'" aria-labelledby="navbarDropdown">

                                                    <div class="dropdown-divider" th:if="${rol == 'USER' || rol == 'ADMIN'}"></div>

                                                    <li>

                                                        <a class="dropdown-item text-white text-bold" th:href="@{/logout}">Cerrar sesion</a>

                                                    </li>

                                                </ul>

                                            </div>

                                        </li>

                                    </ul>

                                </div>

                            </div>

                        </nav>

                        <div class="d-flex p-3 align-items-center justify-content-center mx-auto badge-mobile">

                            <h4 id="last-notification-mobile" th:class="${rol == 'USER'} ? 'bg-terciary px-4 py-2 rounded-4 fs-6 text-white d-inline-block text-truncate' : 'bg-secondary px-4 py-2 rounded-4 fs-6 text-white d-inline-block text-truncate'">No hay notificaciones en este momento.</h4>

                            <a th:href="@{/mobile/profile/notifications}" class="position-relative pb-1">

                                <i th:class="${rol == 'USER'} ? 'fa-solid fa-bell text-gray fs-1' : 'fa-solid fa-bell text-white fs-1'"></i>

                                <span id="count-notif-mobile" class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                                99
                                <span class="visually-hidden">unread messages</span>

                              </span>

                            </a>

                        </div>

                    </div>


                </header>